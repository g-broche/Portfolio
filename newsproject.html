<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><link rel="stylesheet" type="text/css" href="styles.9ec78148.css"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=5"><title>Newsproject</title><meta name="description" content="self introduction"><meta name="theme-color" content="#fff"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Fanwood+Text:ital@0;1&family=Tenor+Sans&display=swap" rel="stylesheet"></head><body> <header id="page-header" class="page-header"> <nav class="header-nav"> <ul> <a href="index.html#introduction"> <li>Introduction</li> </a> <a href="index.html#portfolio"> <li>Portfolio</li> </a> <a href="index.html#about"> <li>A propos</li> </a> <a href="index.html#activities"> <li>Photos</li> </a> </ul> </nav> <div id="burger-menu" class="burger-menu"> <button id="burger-button" class="burger-menu__button"> <img src="burger-menu.f34fb634.svg" alt="burger-icon"> </button> <nav class="burger-menu__nav hidden"> <ul> <a href="index.html#introduction"> <li>Introduction</li> </a> <a href="index.html#portfolio"> <li>Portfolio</li> </a> <a href="index.html#about"> <li>A propos</li> </a> <a href="index.html#activities"> <li>Photos</li> </a> </ul> </nav> </div> </header> <main id="newsProject" class="about-project newsProject"> <header> <h1>Projet News</h1> <p class="project-into">Après avoir vu HTML, CSS et Javascript en utilisant uniquement des données locales pour créer des éléments et des interactions, la continuité logique était d'incorporer des données dynamiques provenant d'une source extérieure. Pour ce faire, le projet utilise les endpoints de <b>NewsAPI</b> qui va fournir les données que le front-end traitera par la suite pour afficher le contenu. </p> <nav class="github-nav"> <a href="https://github.com/g-broche/newsProject" target="_blank">voir le code source sur github</a> </nav> </header> <main class="newsProject__wrapper"> <section class="newsProject__home"> <h2>L'interface</h2> <p>L'affichage des articles est scindé en deux sections, une première dédiée aux informations générales et une seconde dédiée à un fil d'actualité particulier prédéfini par la rédaction. </p> <p>L'interface du site est dotée de plusieurs éléments interactifs permettant à l'utilisateur de changer les articles qui seront affichés: </p> <ul> <li>Les drapeaux permettent de rechercher soit des articles écrits en français, soit des articles écrits en anglais.</li> <li>Une liste déroulante permet de rechercher des actualités liées à un pays spécifique.</li> <li>Une liste déroulante permet de rechercher des actualités relatives à des catégories prédéfinie par l'API</li> <li>Un champs texte permet de rechercher des actualités en fonction de la saisie de l'utilisateur </li> </ul> <div class="gallery-screenshots screenshots"> <picture class="horizontal"> <img src="userInterfaceDesktop.0a1e18ba.webp" alt="interfaceDesktop"> </picture> <picture class="vertical"> <img src="userInterfacePhoneVert.0b4c1a59.webp" alt="interfacePhone"> </picture> </div> <p>Le design de l'interface est adaptable à différents formats d'affichage. Le responsive est effectué via des media queries css changeant les propriétés de différents éléments, par exemple en basculant la direction d'un display flex ou en passant une grille de deux colonnes à une seule colonne. </p> </section> <section class="newsProject__request"> <h2>Requêter les informations</h2> <p>Pour afficher des articles, la première étape est de définir une URL correspondant a ce qui est attendu par l'API. Il va donc falloir mettre en équation l'interactivée proposée à l'utilisateur avec ce que la documentation de l'API attend. </p> <div> <p>Le fonctionnement se déroule via trois étapes consécutives:</p> <ol> <li>Les objets dont le rôle va être de créer dynamiquement la requête à envoyer à l'API.</li> <li>L'appelle à <b>Fetch</b> qui va faire l'intermédiaire entre la page et l'API et va transmettre les informations.</li> <li>La création des articles à afficher une selon les données qui ont été récupérées.</li> </ol> </div> <article class="query"> <h3>I.Les objets "query"</h3> <p>Afin de pouvoir effectuer les requête vers l'API, une url de requête doit être définie et utilisée comme argument de <b>fetch</b>. Cette requête est construite via un objet contenant diverse propriétés correspondant à des sous-éléments de requêtes respectant ce qui est attendu par NewsAPI, ainsi qu'une propriété <b>request</b> qui contiendra la chaine de caractères servant de requête.</p> <p>Les endpoints "top-headlines" et "everything" attendant des paramètres différents, les deux objects ont des propriétées légèrement différentes</p> <p>Les propriétés contenues dans cet objet seront modifiées en fonction des choix de l'utilisateur. Lorsque des informations devront être récupérées depuis l'API, une methode <b>construct</b> sera appelée et aura pour fonction de concaténer les propriétés afin de former la requête définitive qui sera ensuite envoyée à l'API. </p> <div class="gallery-screenshots query__screenshots"> <picture> <img src="CodeSnippet-queryBase.a9f02ac9.webp" alt="homeAnimation"> </picture> <picture> <img src="CodeSnippet-queryObjects.9f14f8ee.webp" alt="homeAnimation2"> </picture> </div> <p>Les différentes propriétés de l'objet query dédié aux informations principale, <b>QueryHeadlines</b>, vont être ammenées à stocker des données qui vont varier selon les interactions avec l'utilisateur. Pour ce faire, chaque élément visant à modifier les articles à afficher va avoir un event listener qui va attribuer la nouvelle valeur à la propriété correspondante. </p> <div class="gallery-screenshots query__screenshots"> <picture class="listeners"> <img src="CodeSnippet-events.3a3702a8.webp" alt="homeAnimation"> </picture> </div> </article> <article class="fetch"> <h3>II. L'utilisation de Fetch</h3> <p>Fetch est une méthode de l'interface javascript Fetch API permettant d'envoyer des requêtes à une ressource et de recevoir une réponse sous le format JSON. Utiliser fetch au sein d'une fonction asynchrone va permettre a la page de pouvoir afficher son contenu statique puis ensuite d'y ajouter le contenu dynamique une fois que les informations provenant de la source extérieur seront récupérées </p> <div class="fetch__screenshots gallery-screenshots"> <picture> <img src="CodeSnippet-fetchingData.a6c4c095.webp" alt="actionLog"> </picture> </div> </article> <article class="display"> <h3>III. Affichage des articles</h3> <p>A présent que les données provenant de NewsAPI ont été reçues, la fonction <b>displayAllArticles</b> va être appelée afin d'afficher tous les articles qui ont été récupérées. A noter que dans le cas spécifique des informations principale, cela sera précédé par la fonction <b>changeHeadlineTitle</b> qui affichera un texte résumant la requête qui a été envoyée pour afficher les articles actuellement visible. </p> <p>La fonction qui va afficher tous les articles va elle-même faire appel a la fonction <b>createArticle</b> qui va créé un article complet basé sur les information contenu pour un spécifique article fourni par l'API et le retourner à la fonction appelant afin qu'elle l'ajoute a la grille des articles. En effectuant cette opération pour chacun des articles figurant dans nos données, l'intégralité des articles reçu seront affichés. </p> <div class="display__screenshots gallery-screenshots"> <picture> <img src="CodeSnippet-creatingArticles.8e8fe79c.webp" alt="throttle"> </picture> </div> </article> </section> </main> <section id="modal-screenshot-container" class="hidden modal-screenshot-container"> <picture id="modal-screenshot-frame"> <img id="modal-screenshot-img" src="" alt=""> </picture> <button id="modal-screenshot-close" class="modal-close">&#10006;</button> </section> <div id="modal-project-overlay" class="hidden"></div> </main> <footer id="page-footer" class="page-footer"> <ul class="social-link"> <li><button id="btn-contact"> <div class="icon-container"> <img src="icons8-email-50.b9fa7904.webp" alt="mail icon"> </div> Contact </button></li> <li><a href="https://github.com/g-broche"><button id="btn-git"> <div class="icon-container"> <img src="icons8-github-50.93f434ee.webp" alt="github icon"> </div> Mon github </button></a> </li> </ul> <section id="modal-form-wrapper" class="hidden modal-form-wrapper"> <header> <h4>Envoyer un message</h4> <span id="submit-error" class="error transparent"></span> </header> <section id="contact-form" class="contact-form"> <div class="form-group"> <label for="email-field">Adresse email:</label> <input id="email-field" class="contact-form__email" type="email" name="email" placeholder="Saisissez votre adresse email ici" required> </div> <div class="form-group"> <label for="message-field">Votre message:</label> <textarea id="message-field" class="contact-form__message" name="message" placeholder="Ecrivez votre message ici" required></textarea> </div> <footer> <span id="message-length"></span> <div class="contact-form__buttons"> <button id="form-cancel" class="contact-form__cancel">Annuler</button> <button id="form-submit" class="contact-form__submit">Envoyer</button> </div> </footer> </section> </section> </footer> <div id="modal-contact-overlay" class="hidden"></div> </body></html><script type="module" src="project.9ec77ba3.js"></script><script type="module" src="burger.425069e0.js"></script><script type="module" src="contactform.ce864518.js"></script>