{"version":3,"sources":["src/ts/index.ts"],"names":[],"mappings":"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","file":"ts.93153e6d.js","sourceRoot":"..","sourcesContent":["/* ********** IMPORTS ********** */\r\nimport { Photo } from './interfaces/model';\r\n\r\n/* ********** DATABASE AND HELPER FUNCTION********** */\r\nconst pathToImg = 'src/assets/pictures/';\r\n\r\nfunction getImagePath(fileNamePattern: string): string {\r\n    const imagePath = (pathToImg + fileNamePattern);\r\n    return imagePath;\r\n}\r\n\r\nconst PhotoCollection: Photo[] = [\r\n    {\r\n        id: 1,\r\n        title: \"Bee and sunflower\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"bee-sunflower_160.webp\"),\r\n            small: getImagePath(\"bee-sunflower_240.webp\"),\r\n            medium: getImagePath(\"bee-sunflower_480.webp\"),\r\n            large: getImagePath(\"bee-sunflower_720.webp\"),\r\n        },\r\n        tag: [\"abeille\", \"tournesol\"]\r\n    },\r\n    {\r\n        id: 2,\r\n        title: \"Crabier chevelu\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"crabier_160.webp\"),\r\n            small: getImagePath(\"crabier_240.webp\"),\r\n            medium: getImagePath(\"crabier_480.webp\"),\r\n            large: getImagePath(\"crabier_720.webp\"),\r\n        },\r\n        tag: [\"crabier\"]\r\n    },\r\n    {\r\n        id: 3,\r\n        title: \"Renard du soir\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"fox_160.webp\"),\r\n            small: getImagePath(\"fox_240.webp\"),\r\n            medium: getImagePath(\"fox_480.webp\"),\r\n            large: getImagePath(\"fox_720.webp\"),\r\n        },\r\n        tag: [\"renard\"]\r\n    },\r\n    {\r\n        id: 4,\r\n        title: \"Hermine\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"hermine_160.webp\"),\r\n            small: getImagePath(\"hermine_240.webp\"),\r\n            medium: getImagePath(\"hermine_480.webp\"),\r\n            large: getImagePath(\"hermine_720.webp\"),\r\n        },\r\n        tag: [\"hermine\"]\r\n    },\r\n    {\r\n        id: 5,\r\n        title: \"Libellule en vol\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"libellule_160.webp\"),\r\n            small: getImagePath(\"libellule_240.webp\"),\r\n            medium: getImagePath(\"libellule_480.webp\"),\r\n            large: getImagePath(\"libellule_720.webp\"),\r\n        },\r\n        tag: [\"libellule\"]\r\n    },\r\n    {\r\n        id: 6,\r\n        title: \"Marmottes du Taillefer\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"marmottes_160.webp\"),\r\n            small: getImagePath(\"marmottes_240.webp\"),\r\n            medium: getImagePath(\"marmottes_480.webp\"),\r\n            large: getImagePath(\"marmottes_720.webp\"),\r\n        },\r\n        tag: [\"marmottes\"]\r\n    },\r\n];\r\n\r\n/* ********** PAGE ELEMENTS ********** */\r\n\r\nconst pictureGrid = document.getElementById(\"picture-grid\");\r\nconst btnContact = document.getElementById(\"btn-contact\")! as HTMLButtonElement;\r\n\r\nconst modalPictureContainer = document.getElementById(\"modal-picture-container\");\r\nconst modalPreviousButton = document.getElementById(\"modal-picture-previous\");\r\nconst modalNextButton = document.getElementById(\"modal-picture-next\");\r\nconst modalCloseButton = document.getElementById(\"modal-picture-close\");\r\nconst modalPicture = document.getElementById(\"modal-picture-img\");\r\n\r\nconst modalFormContainer = document.getElementById(\"modal-form-wrapper\");\r\n\r\nconst submitErrorMsg = document.getElementById(\"submit-error\") as HTMLSpanElement;\r\nconst contactForm = document.getElementById(\"contact-form\") as HTMLFormElement;\r\nconst contactEmail = document.getElementById(\"email-field\") as HTMLInputElement;\r\nconst contactMessage = document.getElementById(\"message-field\") as HTMLTextAreaElement;\r\nconst contactLengthFeedback = document.getElementById(\"message-length\") as HTMLSpanElement;\r\nconst contactCancel = document.getElementById(\"form-cancel\") as HTMLButtonElement;\r\nconst contactSubmit = document.getElementById(\"form-submit\") as HTMLButtonElement;\r\n\r\nconst modalPhotoOverlay = document.getElementById(\"modal-photo-overlay\");\r\nconst modalContactOverlay = document.getElementById(\"modal-contact-overlay\");\r\n\r\n/* ********** LOGIC CONST AND VARIABLES ********** */\r\n\r\nlet isEmailValid = false;\r\nlet isMessageValid = false;\r\nconst messageLengthRange = {\r\n    min: 10,\r\n    max: 1000\r\n}\r\n\r\nconst regPattern = {\r\n    email: /^[\\w\\-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/\r\n}\r\n\r\nconst formAction = \"https://formspree.io/f/mrgwzovb\";\r\n\r\n/* ********** EVENT LISTENERS ********** */\r\n\r\nmodalCloseButton?.addEventListener(\"click\", hideModalPictureContainer);\r\nmodalPhotoOverlay?.addEventListener(\"click\", hideModalPictureContainer);\r\n\r\nmodalNextButton?.addEventListener(\"click\", toNextPhoto);\r\nmodalPreviousButton?.addEventListener(\"click\", toPreviousPhoto);\r\n\r\nbtnContact.addEventListener(\"click\", openContactModal)\r\n\r\n// contactForm.addEventListener(\"submit\", (event) => { handleSubmit(event) });\r\n\r\ncontactMessage.addEventListener(\"input\", displayCurrentLength);\r\ncontactCancel.addEventListener(\"click\", closeContactModal)\r\n\r\ncontactSubmit.addEventListener(\"click\", handleSubmit)\r\n\r\n\r\n\r\n\r\n/* ********** FUNCTIONS ********** */\r\n\r\nfunction createOneThumbnail(image: Photo): Element {\r\n    let newPictureContainer = document.createElement(\"picture\");\r\n    let sourcemedium = document.createElement(\"source\");\r\n    let sourcesmall = document.createElement(\"source\");\r\n    let imgDefaut = document.createElement(\"img\");\r\n\r\n    newPictureContainer.classList.add(\"thumbnail\")\r\n    newPictureContainer.dataset.id = String(image.id);\r\n    newPictureContainer.addEventListener(\"click\", (event) => { displayModalPicture(event) })\r\n\r\n    sourcemedium.setAttribute(\"srcset\", image.fileNames.medium);\r\n    sourcemedium.setAttribute(\"media\", \"(min-width: 1080px)\");\r\n    sourcemedium.setAttribute(\"alt\", image.title);\r\n\r\n    sourcesmall.setAttribute(\"srcset\", image.fileNames.small);\r\n    sourcesmall.setAttribute(\"media\", \"(min-width: 720px)\");\r\n    sourcesmall.setAttribute(\"alt\", image.title);\r\n\r\n    imgDefaut.setAttribute(\"src\", image.fileNames.xsmall);\r\n    imgDefaut.setAttribute(\"alt\", image.title);\r\n\r\n    newPictureContainer.append(sourcemedium, sourcesmall, imgDefaut);\r\n    return newPictureContainer;\r\n}\r\n\r\nfunction displayPictures() {\r\n    PhotoCollection.forEach(photo => {\r\n        pictureGrid?.appendChild(createOneThumbnail(photo));\r\n    });\r\n}\r\n\r\nasync function displayModalPicture(event: MouseEvent) {\r\n    let sourceImage = getSourceImage(event)\r\n    if (sourceImage) {\r\n        if (modalPicture?.dataset.id && sourceImage.id === parseInt(modalPicture?.dataset.id)) {\r\n            showModalPictureContainer()\r\n        } else {\r\n            setModalPictureContent(sourceImage)\r\n            const imageToLoad = modalPicture?.querySelector(\".source-main\") as HTMLImageElement;\r\n            await (loadImage(imageToLoad)).then(() => { showModalPictureContainer(); imageToLoad.onload = null; })\r\n        }\r\n    }\r\n}\r\nasync function loadImage(elem: HTMLImageElement) {\r\n    return new Promise<HTMLImageElement>((resolve, reject) => {\r\n        elem.onload = () => (resolve(elem));\r\n        elem.onerror = reject;\r\n    })\r\n}\r\n\r\nfunction getSourceImage(event: MouseEvent) {\r\n    let targetImage = event.target as HTMLElement;\r\n    let imageId = targetImage.parentElement?.dataset.id;\r\n    return findImageFromId(imageId ? parseInt(imageId) : null);\r\n}\r\n\r\nfunction setModalPictureContent(image: Photo): void {\r\n\r\n    if (modalPicture) { modalPicture.dataset.id = String(image.id) };\r\n    modalPicture?.querySelector(\".source-main\")?.setAttribute(\"srcset\", image.fileNames.large)\r\n    modalPicture?.querySelector(\".source-medium\")?.setAttribute(\"srcset\", image.fileNames.medium)\r\n    modalPicture?.querySelector(\".source-small\")?.setAttribute(\"src\", image.fileNames.small)\r\n}\r\n\r\nfunction findImageFromId(id: number | null): Photo | null {\r\n    const newMainImage = (id !== null ? PhotoCollection.find(photo => photo.id == id) : null);\r\n    return (newMainImage ? newMainImage : null);\r\n}\r\n\r\nfunction hideModalPictureContainer() {\r\n    modalPictureContainer?.classList.remove(\"visible\");\r\n    modalPhotoOverlay?.classList.remove(\"visible\");\r\n    modalPictureContainer?.classList.add(\"hidden\");\r\n    modalPhotoOverlay?.classList.add(\"hidden\");\r\n}\r\n\r\nfunction showModalPictureContainer() {\r\n    modalPictureContainer?.classList.remove(\"hidden\");\r\n    modalPhotoOverlay?.classList.remove(\"hidden\");\r\n    modalPictureContainer?.classList.add(\"visible\");\r\n    modalPhotoOverlay?.classList.add(\"visible\");\r\n}\r\n\r\nfunction toNextPhoto() {\r\n    let imageId = getIdFromModalPicture();\r\n    if (imageId) {\r\n        let nextPhoto = getNextPhotoFromCurrent(parseInt(imageId));\r\n        if (nextPhoto) { setModalPictureContent(nextPhoto); }\r\n    }\r\n}\r\nfunction toPreviousPhoto() {\r\n    let imageId = getIdFromModalPicture();\r\n    if (imageId) {\r\n        let previousPhoto = getPreviousPhotoFromCurrent(parseInt(imageId));\r\n        if (previousPhoto) { setModalPictureContent(previousPhoto); }\r\n    }\r\n}\r\n\r\nfunction getIdFromModalPicture(): string | null {\r\n    return (modalPicture?.dataset.id ? modalPicture.dataset.id : null);\r\n}\r\nfunction getNextPhotoFromCurrent(currentId: number): Photo | null {\r\n    let currentIndex = PhotoCollection.findIndex((photo) => photo.id === currentId);\r\n    let nextIndex = (currentIndex < PhotoCollection.length - 1 ? currentIndex + 1 : 0);\r\n    return PhotoCollection[nextIndex];\r\n}\r\n\r\nfunction getPreviousPhotoFromCurrent(currentId: number): Photo | null {\r\n    let currentIndex = PhotoCollection.findIndex((photo) => photo.id === currentId);\r\n    let previousIndex = (currentIndex > 0 ? (currentIndex - 1) : (PhotoCollection.length - 1));\r\n    return PhotoCollection[previousIndex];\r\n}\r\n\r\nfunction verifyEmail() {\r\n    isEmailValid = regPattern.email.test(contactEmail.value);\r\n}\r\n\r\nfunction verifyMessage() {\r\n    isMessageValid = (contactMessage.value.length >= messageLengthRange.min && contactMessage.value.length <= messageLengthRange.max);\r\n}\r\n\r\nfunction displayCurrentLength() {\r\n    let currentlength = contactMessage.value.length;\r\n    let message = \"\";\r\n\r\n    if (currentlength < messageLengthRange.min) {\r\n        message = \"veuillez écrire au moins 10 caractères.\"\r\n        contactLengthFeedback.classList.add(\"error\");\r\n    } else if (currentlength >= messageLengthRange.min && currentlength <= messageLengthRange.max) {\r\n        message = currentlength + \"/\" + messageLengthRange.max\r\n        if (contactLengthFeedback.classList.contains(\"error\")) { contactLengthFeedback.classList.remove(\"error\") }\r\n    } else {\r\n        message = currentlength + \"/\" + messageLengthRange.max\r\n        contactLengthFeedback.classList.add(\"error\");\r\n    }\r\n    contactLengthFeedback.textContent = message;\r\n}\r\n\r\nfunction openContactModal() {\r\n    displayCurrentLength();\r\n    modalFormContainer?.classList.remove(\"hidden\");\r\n    modalContactOverlay?.classList.remove(\"hidden\");\r\n}\r\n\r\nfunction closeContactModal() {\r\n    modalFormContainer?.classList.add(\"hidden\");\r\n    modalContactOverlay?.classList.add(\"hidden\");\r\n    contactMessage.value = \"\"\r\n    contactEmail.value = \"\";\r\n    contactMessage.value = \"\";\r\n    isEmailValid = false;\r\n    isMessageValid = false;\r\n}\r\n\r\nfunction getRequestBody() {\r\n    return {\r\n        email: contactEmail.value,\r\n        message: contactMessage.value\r\n    }\r\n}\r\n\r\n// async function submitForm(event) {\r\n//     verifyEmail();\r\n//     verifyMessage();\r\n//     if (isEmailValid && isMessageValid) {\r\n//         contactForm.submit;\r\n//         alert(\"le message a bien été envoyé\");\r\n//         closeContactModal();\r\n//     } else {\r\n//         if (!isEmailValid && !isMessageValid) {\r\n//             submitErrorMsg.textContent = \"Le format de l'email est incorrect et le message ne satisfait pas la longueur attendue\";\r\n//         }\r\n//         else if (!isEmailValid) {\r\n//             submitErrorMsg.textContent = \"Le format de l'email est incorrect\";\r\n//         }\r\n//         else {\r\n//             if (contactMessage.value.length < messageLengthRange.min) {\r\n//                 submitErrorMsg.textContent = \"Le message est trop court\";\r\n//             } else if (contactMessage.value.length > messageLengthRange.max) {\r\n//                 submitErrorMsg.textContent = \"Le message est trop long\";\r\n//             }\r\n//         }\r\n//         submitErrorMsg.classList.remove(\"transparent\");\r\n//         setTimeout(() => {\r\n//             submitErrorMsg.classList.add(\"transparent\")\r\n//         }, 5000);\r\n//     }\r\n// }\r\n\r\nasync function handleSubmit() {\r\n    verifyEmail();\r\n    verifyMessage();\r\n\r\n    if (isEmailValid && isMessageValid) {\r\n        fetch(formAction, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(getRequestBody()),\r\n            headers: {\r\n                'Accept': 'application/json'\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                alert(\"le message a bien été envoyé\");\r\n                closeContactModal();\r\n            } else {\r\n                alert(\"une erreur a eu lieu durant la transmission de l'email via formspree\")\r\n            }\r\n        }).catch(error => {\r\n            alert(\"une erreur a eu lieu durant la transmission de l'email via formspree\")\r\n        });\r\n    } else {\r\n        if (!isEmailValid && !isMessageValid) {\r\n            submitErrorMsg.textContent = \"Le format de l'email est incorrect et le message ne satisfait pas la longueur attendue\";\r\n        }\r\n        else if (!isEmailValid) {\r\n            submitErrorMsg.textContent = \"Le format de l'email est incorrect\";\r\n        }\r\n        else {\r\n            if (contactMessage.value.length < messageLengthRange.min) {\r\n                submitErrorMsg.textContent = \"Le message est trop court\";\r\n            } else if (contactMessage.value.length > messageLengthRange.max) {\r\n                submitErrorMsg.textContent = \"Le message est trop long\";\r\n            }\r\n        }\r\n        submitErrorMsg.classList.remove(\"transparent\");\r\n        setTimeout(() => {\r\n            submitErrorMsg.classList.add(\"transparent\")\r\n        }, 5000);\r\n    }\r\n}\r\n// form.addEventListener(\"submit\", handleSubmit)\r\n\r\n/* ********** Initialization ********** */\r\ndisplayPictures();"]}