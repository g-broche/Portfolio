{"version":3,"sources":["src/ts/index.ts"],"names":[],"mappings":"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","file":"ts.ab4ea1df.js","sourceRoot":"..","sourcesContent":["/* ********** IMPORTS ********** */\r\nimport { Photo } from './interfaces/model';\r\n\r\n/* ********** DATABASE AND HELPER FUNCTION********** */\r\nconst pathToImg = 'src/assets/pictures/';\r\n\r\nfunction getImagePath(fileNamePattern: string): string {\r\n    const imagePath = (pathToImg + fileNamePattern);\r\n    return imagePath;\r\n}\r\n\r\nconst PhotoCollection: Photo[] = [\r\n    {\r\n        id: 1,\r\n        title: \"Bee and sunflower\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"bee-sunflower_160.webp\"),\r\n            small: getImagePath(\"bee-sunflower_240.webp\"),\r\n            medium: getImagePath(\"bee-sunflower_480.webp\"),\r\n            large: getImagePath(\"bee-sunflower_720.webp\"),\r\n        },\r\n        tag: [\"abeille\", \"tournesol\"]\r\n    },\r\n    {\r\n        id: 2,\r\n        title: \"Crabier chevelu\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"crabier_160.webp\"),\r\n            small: getImagePath(\"crabier_240.webp\"),\r\n            medium: getImagePath(\"crabier_480.webp\"),\r\n            large: getImagePath(\"crabier_720.webp\"),\r\n        },\r\n        tag: [\"crabier\"]\r\n    },\r\n    {\r\n        id: 3,\r\n        title: \"Renard du soir\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"fox_160.webp\"),\r\n            small: getImagePath(\"fox_240.webp\"),\r\n            medium: getImagePath(\"fox_480.webp\"),\r\n            large: getImagePath(\"fox_720.webp\"),\r\n        },\r\n        tag: [\"renard\"]\r\n    },\r\n    {\r\n        id: 4,\r\n        title: \"Hermine\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"hermine_160.webp\"),\r\n            small: getImagePath(\"hermine_240.webp\"),\r\n            medium: getImagePath(\"hermine_480.webp\"),\r\n            large: getImagePath(\"hermine_720.webp\"),\r\n        },\r\n        tag: [\"hermine\"]\r\n    },\r\n    {\r\n        id: 5,\r\n        title: \"Libellule en vol\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"libellule_160.webp\"),\r\n            small: getImagePath(\"libellule_240.webp\"),\r\n            medium: getImagePath(\"libellule_480.webp\"),\r\n            large: getImagePath(\"libellule_720.webp\"),\r\n        },\r\n        tag: [\"libellule\"]\r\n    },\r\n    {\r\n        id: 6,\r\n        title: \"Marmottes du Taillefer\",\r\n        fileNames: {\r\n            xsmall: getImagePath(\"marmottes_160.webp\"),\r\n            small: getImagePath(\"marmottes_240.webp\"),\r\n            medium: getImagePath(\"marmottes_480.webp\"),\r\n            large: getImagePath(\"marmottes_720.webp\"),\r\n        },\r\n        tag: [\"marmottes\"]\r\n    },\r\n];\r\n\r\n/* ********** PAGE ELEMENTS ********** */\r\n\r\nconst pictureGrid = document.getElementById(\"picture-grid\");\r\nconst btnContact = document.getElementById(\"btn-contact\")! as HTMLButtonElement;\r\n\r\nconst modalPictureContainer = document.getElementById(\"modal-picture-container\");\r\nconst modalPreviousButton = document.getElementById(\"modal-picture-previous\");\r\nconst modalNextButton = document.getElementById(\"modal-picture-next\");\r\nconst modalCloseButton = document.getElementById(\"modal-picture-close\");\r\nconst modalPicture = document.getElementById(\"modal-picture-img\");\r\n\r\nconst modalFormContainer = document.getElementById(\"modal-form-wrapper\");\r\n\r\nconst submitErrorMsg = document.getElementById(\"submit-error\") as HTMLSpanElement;\r\nconst contactForm = document.getElementById(\"contact-form\") as HTMLFormElement;\r\nconst contactEmail = document.getElementById(\"email-field\") as HTMLInputElement;\r\nconst contactMessage = document.getElementById(\"message-field\") as HTMLTextAreaElement;\r\nconst contactLengthFeedback = document.getElementById(\"message-length\") as HTMLSpanElement;\r\nconst contactCancel = document.getElementById(\"form-cancel\") as HTMLButtonElement;\r\nconst contactSubmit = document.getElementById(\"form-submit\") as HTMLButtonElement;\r\n\r\nconst modalPhotoOverlay = document.getElementById(\"modal-photo-overlay\");\r\nconst modalContactOverlay = document.getElementById(\"modal-contact-overlay\");\r\n\r\n/* ********** LOGIC CONST AND VARIABLES ********** */\r\n\r\nlet isEmailValid = false;\r\nlet isMessageValid = false;\r\nconst messageLengthRange = {\r\n    min: 10,\r\n    max: 1000\r\n}\r\n\r\nconst regPattern = {\r\n    email: /^[\\w\\-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/\r\n}\r\n\r\nconst formAction = \"https://formspree.io/f/mrgwzovb\";\r\n\r\n/* ********** EVENT LISTENERS ********** */\r\n\r\nmodalCloseButton?.addEventListener(\"click\", hideModalPictureContainer);\r\nmodalPhotoOverlay?.addEventListener(\"click\", hideModalPictureContainer);\r\n\r\nmodalNextButton?.addEventListener(\"click\", toNextPhoto);\r\nmodalPreviousButton?.addEventListener(\"click\", toPreviousPhoto);\r\n\r\nbtnContact.addEventListener(\"click\", openContactModal)\r\n\r\n// contactForm.addEventListener(\"submit\", (event) => { handleSubmit(event) });\r\n\r\ncontactMessage.addEventListener(\"input\", displayCurrentLength);\r\ncontactCancel.addEventListener(\"click\", closeContactModal)\r\n\r\ncontactSubmit.addEventListener(\"click\", handleSubmit)\r\n\r\n\r\n\r\n\r\n/* ********** FUNCTIONS ********** */\r\n\r\nfunction createOneThumbnail(image: Photo): Element {\r\n    let newPictureContainer = document.createElement(\"picture\");\r\n    let sourcemedium = document.createElement(\"source\");\r\n    let sourcesmall = document.createElement(\"source\");\r\n    let imgDefaut = document.createElement(\"img\");\r\n\r\n    newPictureContainer.classList.add(\"thumbnail\")\r\n    newPictureContainer.dataset.id = String(image.id);\r\n    newPictureContainer.addEventListener(\"click\", (event) => { displayModalPicture(event) })\r\n\r\n    sourcemedium.setAttribute(\"srcset\", image.fileNames.medium);\r\n    sourcemedium.setAttribute(\"media\", \"(min-width: 1080px)\");\r\n    sourcemedium.setAttribute(\"alt\", image.title);\r\n\r\n    sourcesmall.setAttribute(\"srcset\", image.fileNames.small);\r\n    sourcesmall.setAttribute(\"media\", \"(min-width: 720px)\");\r\n    sourcesmall.setAttribute(\"alt\", image.title);\r\n\r\n    imgDefaut.setAttribute(\"src\", image.fileNames.xsmall);\r\n    imgDefaut.setAttribute(\"alt\", image.title);\r\n\r\n    newPictureContainer.append(sourcemedium, sourcesmall, imgDefaut);\r\n    return newPictureContainer;\r\n}\r\n\r\nfunction displayPictures() {\r\n    PhotoCollection.forEach(photo => {\r\n        pictureGrid?.appendChild(createOneThumbnail(photo));\r\n    });\r\n}\r\n\r\nasync function displayModalPicture(event: MouseEvent) {\r\n    let sourceImage = getSourceImage(event)\r\n    if (sourceImage) {\r\n        if (modalPicture?.dataset.id && sourceImage.id === parseInt(modalPicture?.dataset.id)) {\r\n            showModalPictureContainer()\r\n        } else {\r\n            setModalPictureContent(sourceImage)\r\n            const imageToLoad = modalPicture?.querySelector(\".source-main\") as HTMLImageElement;\r\n            await (loadImage(imageToLoad)).then(() => { showModalPictureContainer(); imageToLoad.onload = null; })\r\n        }\r\n    }\r\n}\r\nasync function loadImage(elem: HTMLImageElement) {\r\n    return new Promise<HTMLImageElement>((resolve, reject) => {\r\n        elem.onload = () => (resolve(elem));\r\n        elem.onerror = reject;\r\n    })\r\n}\r\n\r\nfunction getSourceImage(event: MouseEvent) {\r\n    let targetImage = event.target as HTMLElement;\r\n    let imageId = targetImage.parentElement?.dataset.id;\r\n    return findImageFromId(imageId ? parseInt(imageId) : null);\r\n}\r\n\r\nfunction setModalPictureContent(image: Photo): void {\r\n\r\n    if (modalPicture) { modalPicture.dataset.id = String(image.id) };\r\n    modalPicture?.querySelector(\".source-main\")?.setAttribute(\"srcset\", image.fileNames.large)\r\n    modalPicture?.querySelector(\".source-medium\")?.setAttribute(\"srcset\", image.fileNames.medium)\r\n    modalPicture?.querySelector(\".source-small\")?.setAttribute(\"src\", image.fileNames.small)\r\n}\r\n\r\nfunction findImageFromId(id: number | null): Photo | null {\r\n    const newMainImage = (id !== null ? PhotoCollection.find(photo => photo.id == id) : null);\r\n    return (newMainImage ? newMainImage : null);\r\n}\r\n\r\nfunction hideModalPictureContainer() {\r\n    modalPictureContainer?.classList.remove(\"visible\");\r\n    modalPhotoOverlay?.classList.remove(\"visible\");\r\n    modalPictureContainer?.classList.add(\"hidden\");\r\n    modalPhotoOverlay?.classList.add(\"hidden\");\r\n}\r\n\r\nfunction showModalPictureContainer() {\r\n    modalPictureContainer?.classList.remove(\"hidden\");\r\n    modalPhotoOverlay?.classList.remove(\"hidden\");\r\n    modalPictureContainer?.classList.add(\"visible\");\r\n    modalPhotoOverlay?.classList.add(\"visible\");\r\n}\r\n\r\nfunction toNextPhoto() {\r\n    let imageId = getIdFromModalPicture();\r\n    if (imageId) {\r\n        let nextPhoto = getNextPhotoFromCurrent(parseInt(imageId));\r\n        if (nextPhoto) { setModalPictureContent(nextPhoto); }\r\n    }\r\n}\r\nfunction toPreviousPhoto() {\r\n    let imageId = getIdFromModalPicture();\r\n    if (imageId) {\r\n        let previousPhoto = getPreviousPhotoFromCurrent(parseInt(imageId));\r\n        if (previousPhoto) { setModalPictureContent(previousPhoto); }\r\n    }\r\n}\r\n\r\nfunction getIdFromModalPicture(): string | null {\r\n    return (modalPicture?.dataset.id ? modalPicture.dataset.id : null);\r\n}\r\nfunction getNextPhotoFromCurrent(currentId: number): Photo | null {\r\n    let currentIndex = PhotoCollection.findIndex((photo) => photo.id === currentId);\r\n    let nextIndex = (currentIndex < PhotoCollection.length - 1 ? currentIndex + 1 : 0);\r\n    return PhotoCollection[nextIndex];\r\n}\r\n\r\nfunction getPreviousPhotoFromCurrent(currentId: number): Photo | null {\r\n    let currentIndex = PhotoCollection.findIndex((photo) => photo.id === currentId);\r\n    let previousIndex = (currentIndex > 0 ? (currentIndex - 1) : (PhotoCollection.length - 1));\r\n    return PhotoCollection[previousIndex];\r\n}\r\n\r\nfunction verifyEmail() {\r\n    isEmailValid = regPattern.email.test(contactEmail.value);\r\n}\r\n\r\nfunction verifyMessage() {\r\n    isMessageValid = (contactMessage.value.length >= messageLengthRange.min && contactMessage.value.length <= messageLengthRange.max);\r\n}\r\n\r\nfunction displayCurrentLength() {\r\n    let currentlength = contactMessage.value.length;\r\n    let message = \"\";\r\n\r\n    if (currentlength < messageLengthRange.min) {\r\n        message = \"veuillez écrire au moins 10 caractères.\"\r\n        contactLengthFeedback.classList.add(\"error\");\r\n    } else if (currentlength >= messageLengthRange.min && currentlength <= messageLengthRange.max) {\r\n        message = currentlength + \"/\" + messageLengthRange.max\r\n        if (contactLengthFeedback.classList.contains(\"error\")) { contactLengthFeedback.classList.remove(\"error\") }\r\n    } else {\r\n        message = currentlength + \"/\" + messageLengthRange.max\r\n        contactLengthFeedback.classList.add(\"error\");\r\n    }\r\n    contactLengthFeedback.textContent = message;\r\n}\r\n\r\nfunction openContactModal() {\r\n    displayCurrentLength();\r\n    modalFormContainer?.classList.remove(\"hidden\");\r\n    modalContactOverlay?.classList.remove(\"hidden\");\r\n}\r\n\r\nfunction closeContactModal() {\r\n    modalFormContainer?.classList.add(\"hidden\");\r\n    modalContactOverlay?.classList.add(\"hidden\");\r\n    contactMessage.value = \"\"\r\n    contactEmail.value = \"\";\r\n    contactMessage.value = \"\";\r\n    isEmailValid = false;\r\n    isMessageValid = false;\r\n}\r\n\r\nfunction getRequestBody() {\r\n    return {\r\n        email: contactEmail.value,\r\n        message: contactMessage.value\r\n    }\r\n}\r\n\r\n// async function submitForm(event) {\r\n//     verifyEmail();\r\n//     verifyMessage();\r\n//     if (isEmailValid && isMessageValid) {\r\n//         contactForm.submit;\r\n//         alert(\"le message a bien été envoyé\");\r\n//         closeContactModal();\r\n//     } else {\r\n//         if (!isEmailValid && !isMessageValid) {\r\n//             submitErrorMsg.textContent = \"Le format de l'email est incorrect et le message ne satisfait pas la longueur attendue\";\r\n//         }\r\n//         else if (!isEmailValid) {\r\n//             submitErrorMsg.textContent = \"Le format de l'email est incorrect\";\r\n//         }\r\n//         else {\r\n//             if (contactMessage.value.length < messageLengthRange.min) {\r\n//                 submitErrorMsg.textContent = \"Le message est trop court\";\r\n//             } else if (contactMessage.value.length > messageLengthRange.max) {\r\n//                 submitErrorMsg.textContent = \"Le message est trop long\";\r\n//             }\r\n//         }\r\n//         submitErrorMsg.classList.remove(\"transparent\");\r\n//         setTimeout(() => {\r\n//             submitErrorMsg.classList.add(\"transparent\")\r\n//         }, 5000);\r\n//     }\r\n// }\r\n\r\nasync function handleSubmit() {\r\n    verifyEmail();\r\n    verifyMessage();\r\n\r\n    if (isEmailValid && isMessageValid) {\r\n        fetch(formAction, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(getRequestBody()),\r\n            headers: {\r\n                'Accept': 'application/json'\r\n            }\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                alert(\"le message a bien été envoyé\");\r\n                closeContactModal();\r\n            } else {\r\n                alert(\"une erreur a eu lieu durant la transmission de l'email via formspree\")\r\n            }\r\n        }).catch(error => {\r\n            alert(\"une erreur a eu lieu durant la transmission de l'email via formspree\")\r\n        });\r\n    } else {\r\n        if (!isEmailValid && !isMessageValid) {\r\n            submitErrorMsg.textContent = \"Le format de l'email est incorrect et le message ne satisfait pas la longueur attendue\";\r\n        }\r\n        else if (!isEmailValid) {\r\n            submitErrorMsg.textContent = \"Le format de l'email est incorrect\";\r\n        }\r\n        else {\r\n            if (contactMessage.value.length < messageLengthRange.min) {\r\n                submitErrorMsg.textContent = \"Le message est trop court\";\r\n            } else if (contactMessage.value.length > messageLengthRange.max) {\r\n                submitErrorMsg.textContent = \"Le message est trop long\";\r\n            }\r\n        }\r\n        submitErrorMsg.classList.remove(\"transparent\");\r\n        setTimeout(() => {\r\n            submitErrorMsg.classList.add(\"transparent\")\r\n        }, 5000);\r\n    }\r\n}\r\n// form.addEventListener(\"submit\", handleSubmit)\r\n\r\n/* ********** Initialization ********** */\r\ndisplayPictures();"]}